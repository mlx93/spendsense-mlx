# SpendSense Project Structure

This document outlines the folder structure for the SpendSense project as specified in the Architecture PRD.

```
spendsense/
├── backend/                    # Backend Express server
│   ├── src/
│   │   ├── server.ts          # Express app entry point
│   │   ├── ingest/            # Data loading and validation (per spec)
│   │   │   ├── csvLoader.ts
│   │   │   ├── jsonLoader.ts
│   │   │   ├── plaidValidator.ts
│   │   │   └── index.ts
│   │   ├── features/          # Signal detection and feature engineering (per spec)
│   │   │   ├── subscriptionDetector.ts
│   │   │   ├── savingsAnalyzer.ts
│   │   │   ├── creditAnalyzer.ts
│   │   │   ├── incomeStabilityAnalyzer.ts
│   │   │   └── index.ts
│   │   ├── personas/          # Persona assignment logic (per spec)
│   │   │   ├── scoringEngine.ts
│   │   │   ├── personaDefinitions.ts
│   │   │   └── index.ts
│   │   ├── recommend/         # Recommendation engine (per spec)
│   │   │   ├── contentMatcher.ts
│   │   │   ├── offerMatcher.ts
│   │   │   ├── rationaleGenerator.ts
│   │   │   ├── agenticReview.ts
│   │   │   └── index.ts
│   │   ├── guardrails/         # Consent, eligibility, tone checks (per spec)
│   │   │   ├── consentManager.ts
│   │   │   ├── eligibilityChecker.ts
│   │   │   ├── toneValidator.ts
│   │   │   ├── toneBlocklist.ts
│   │   │   └── index.ts
│   │   ├── ui/                 # API routes and operator view (per spec)
│   │   │   ├── routes/
│   │   │   │   ├── auth.ts
│   │   │   │   ├── users.ts
│   │   │   │   ├── profile.ts
│   │   │   │   ├── recommendations.ts
│   │   │   │   ├── chat.ts
│   │   │   │   └── operator.ts
│   │   │   ├── middleware/
│   │   │   │   ├── auth.middleware.ts
│   │   │   │   ├── consent.middleware.ts
│   │   │   │   └── errorHandler.middleware.ts
│   │   │   └── index.ts
│   │   ├── eval/               # Evaluation harness (per spec)
│   │   │   ├── coverageMetrics.ts
│   │   │   ├── explainabilityMetrics.ts
│   │   │   ├── latencyMetrics.ts
│   │   │   ├── auditabilityMetrics.ts
│   │   │   └── index.ts
│   │   ├── shared/             # Shared utilities and types
│   │   │   ├── types.ts
│   │   │   ├── dateUtils.ts
│   │   │   └── constants.ts
│   ├── prisma/
│   │   ├── schema.prisma       # Database schema (from SCHEMA.md)
│   │   ├── seed.ts             # Data generator (synthetic users)
│   │   └── migrations/        # Auto-generated by Prisma
│   ├── tests/                  # Unit and integration tests
│   │   ├── features/           # Tests for signal detection
│   │   ├── personas/           # Tests for persona assignment
│   │   ├── recommend/          # Tests for recommendation engine
│   │   └── guardrails/         # Tests for guardrails
│   ├── scripts/                # Utility scripts (at backend root, not in src)
│   │   ├── export-csv.ts
│   │   ├── export-json.ts
│   │   ├── export-parquet.ts
│   │   └── eval-harness.ts     # Evaluation metrics (or use eval/ in src)
│   ├── package.json
│   ├── tsconfig.json
│   └── jest.config.js
│
├── frontend/                    # React frontend
│   ├── src/
│   │   ├── components/         # React components
│   │   │   ├── Dashboard/
│   │   │   ├── Signals/
│   │   │   ├── Recommendations/
│   │   │   ├── Calculators/
│   │   │   ├── Chat/
│   │   │   └── Operator/
│   │   ├── pages/               # Page components
│   │   │   ├── Home.tsx
│   │   │   ├── Dashboard.tsx
│   │   │   ├── Profile.tsx
│   │   │   ├── Recommendations.tsx
│   │   │   ├── Education.tsx
│   │   │   ├── Settings.tsx
│   │   │   └── Operator.tsx
│   │   ├── hooks/              # Custom React hooks
│   │   ├── lib/                # API client, utilities (per Architecture PRD)
│   │   │   ├── apiClient.ts
│   │   │   └── authContext.tsx
│   │   ├── styles/
│   │   ├── App.tsx
│   │   └── main.tsx
│   ├── public/
│   ├── dist/                   # Build output
│   ├── package.json
│   ├── tsconfig.json
│   └── vite.config.ts
│
├── content/                     # Educational content (markdown/JSON per Architecture PRD)
│   ├── schema.json             # Content schema
│   ├── high-utilization/       # 6 articles per persona = 30 total
│   ├── variable-income/
│   ├── subscription-heavy/
│   ├── savings-builder/
│   └── net-worth-maximizer/
│
├── data/
│   ├── offers/                 # Partner offer JSON files (21 offers)
│   ├── synthetic-users/        # Generated user data (CSV/JSON/Parquet)
│   └── analytics/              # (optional) Parquet files for offline analytics
│
├── docs/                        # Documentation (at root level)
│   ├── SCHEMA.md               # Database schema
│   ├── DECISIONS.md            # Architectural decisions
│   ├── LIMITATIONS.md          # Known limitations
│   └── FINAL_PRD_EVALUATION.md
│
Note: Architecture PRD mentions `backend/src/docs/` but this is likely a typo - 
docs should be at root level (as currently structured) for easy access.
│
├── .env.example                # Environment variable template
├── .gitignore
├── package.json                # Root package.json (orchestration)
├── vercel.json                 # Vercel deployment config
├── README.md
├── SS_Reqs_PRD.md              # Requirements PRD
├── SS_Architecture_PRD.md      # Architecture PRD
└── IMPLEMENTATION_SETUP.md     # This setup guide
```

## Key Files to Create

### Backend
1. `backend/src/server.ts` - Express server entry point
2. `backend/prisma/schema.prisma` - Database schema from SCHEMA.md
3. `backend/prisma/seed.ts` - Data generator with fixed seed
4. `backend/package.json` - Backend dependencies
5. `backend/tsconfig.json` - TypeScript config

### Frontend
1. `frontend/src/main.tsx` - React entry point
2. `frontend/src/services/api.ts` - API client
3. `frontend/package.json` - Frontend dependencies
4. `frontend/vite.config.ts` - Vite configuration
5. `frontend/tsconfig.json` - TypeScript config

### Configuration
1. `.env.example` - Environment variable template
2. Root `package.json` scripts (already exists)
3. `vercel.json` (already exists)

