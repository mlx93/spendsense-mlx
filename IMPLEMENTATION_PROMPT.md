# SpendSense Pre-Implementation Setup Prompt

Set up the complete folder structure and configuration files for SpendSense according to the exact specifications in `SS_Reqs_PRD.md` and `SS_Architecture_PRD.md`. This setup must match the design, architecture, and layout defined in these PRDs precisely—every folder, file location, and configuration detail should align with what's documented. Refer to Architecture PRD lines 103-207 for the complete project directory structure specification. Create the monorepo with backend and frontend directories, ensuring the backend uses the modular organization specified: `ingest/` for data loading and validation, `features/` for signal detection (subscription, savings, credit, income analyzers), `personas/` for persona assignment logic, `recommend/` for the recommendation engine, `guardrails/` for consent/eligibility/tone checks, `ui/` with `routes/` and `middleware/` subdirectories for API endpoints, `eval/` for the evaluation harness, and `shared/` for utilities. The frontend should follow React/Vite structure with `components/`, `pages/`, `hooks/`, and `lib/` directories. Also create placeholder directories for `content/` (30 educational articles, 6 per persona), `data/offers/` (21 partner offers), and `data/synthetic-users/` for generated data.

Configure all essential files needed before implementation begins: create `backend/prisma/schema.prisma` with the complete database schema matching `docs/SCHEMA.md` (all Plaid-compatible tables: users, accounts, transactions, liabilities, plus SpendSense-specific tables for signals, personas, content, offers, recommendations, user_feedback, chat_messages, operator_audit_logs). Set up `backend/prisma/seed.ts` with the basic structure to generate 100 synthetic users following the Architecture PRD's Phase 2-8 seeding strategy (users → accounts → transactions → liabilities → signals → personas → recommendations). Create TypeScript configuration files (`tsconfig.json` for both backend and frontend), package.json files with proper dependencies and scripts (including `npm run dev` using concurrently to run both servers, `npm run seed`, `npm run eval`), Vite configuration for the frontend, Jest configuration for testing, and environment variable templates (`.env.example`) with all required variables: `DATABASE_URL`, `JWT_SECRET`, `OPENAI_API_KEY`, `USE_LLM_STUB`, `DATA_SEED=1337`, `PORT`, and `VITE_API_URL`. Create stub files for the main Express server (`backend/src/server.ts`), basic route files in `backend/src/ui/routes/`, middleware stubs, and the frontend API client (`frontend/src/lib/apiClient.ts`).

Ensure the setup is ready for implementation by verifying the folder structure exactly matches the Architecture PRD specification (lines 103-207), all configuration files are in place with correct paths and dependencies, and the project can be initialized with a single command (`npm install` followed by `npm run dev` should work once implemented). The structure must support all requirements from both PRDs: SQLite as the development database (via Prisma), REST API endpoints with `/api` prefix (as specified in Architecture PRD API section), JWT authentication only (no OAuth per Reqs PRD Section 9.1), OpenAI GPT-4o-mini integration for chat with deterministic tool-calling (temperature=0, top_p=1 per Architecture PRD Appendix), and the evaluation harness that computes coverage, explainability, latency, and auditability metrics (per Reqs PRD Section 8). All files must be organized exactly as documented in the PRDs, with clear separation between data ingestion (`ingest/`), feature engineering (`features/`), persona assignment (`personas/`), recommendation generation (`recommend/`), guardrails (`guardrails/`), API routes (`ui/routes/` with `ui/middleware/`), and evaluation components (`eval/`). Cross-reference `IMPLEMENTATION_SETUP.md` and `PROJECT_STRUCTURE.md` for additional details, but always prioritize the PRD specifications as the source of truth.
